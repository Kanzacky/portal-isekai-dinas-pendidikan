{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///D:/StudyProject/portal-isekai-dinas-pendidikan/apps/frontend/app/api/bridge/login/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\r\n\r\nexport async function POST(req: NextRequest) {\r\n    try {\r\n        const body = await req.json();\r\n        const headers = req.headers;\r\n        \r\n        const endpoint = headers.get('x-endpoint');\r\n        const method = headers.get('x-method') || 'POST'; \r\n        const baseUrl = process.env.NEXT_PUBLIC_API_DIR_PATH?.replace(/\\/$/, '');\r\n        const finalUrl = `${baseUrl}${endpoint}`;\r\n\r\n        console.log(`DEBUG: [${method}] -> ${finalUrl}`);\r\n\r\n        const fetchOptions: any = {\r\n            method: method,\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'X-Timestamp': headers.get('x-timestamp') || '',\r\n                'Authorization': headers.get('authorization') || '',\r\n            }\r\n        };\r\n\r\n        // JANGAN sertakan body kalau metodenya GET\r\n        if (method !== 'GET') {\r\n            fetchOptions.body = JSON.stringify(body);\r\n        }\r\n\r\n        const response = await fetch(finalUrl, fetchOptions);\r\n        const resData = await response.json();\r\n\r\n        return NextResponse.json(resData, { status: response.status });\r\n    } catch (error: any) {\r\n        return NextResponse.json({ message: error.message }, { status: 500 });\r\n    }\r\n}"],"names":[],"mappings":";;;;AAAA;;AAEO,eAAe,KAAK,GAAgB;IACvC,IAAI;QACA,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,MAAM,UAAU,IAAI,OAAO;QAE3B,MAAM,WAAW,QAAQ,GAAG,CAAC;QAC7B,MAAM,SAAS,QAAQ,GAAG,CAAC,eAAe;QAC1C,MAAM,4EAAgD,QAAQ,OAAO;QACrE,MAAM,WAAW,GAAG,UAAU,UAAU;QAExC,QAAQ,GAAG,CAAC,CAAC,QAAQ,EAAE,OAAO,KAAK,EAAE,UAAU;QAE/C,MAAM,eAAoB;YACtB,QAAQ;YACR,SAAS;gBACL,gBAAgB;gBAChB,eAAe,QAAQ,GAAG,CAAC,kBAAkB;gBAC7C,iBAAiB,QAAQ,GAAG,CAAC,oBAAoB;YACrD;QACJ;QAEA,2CAA2C;QAC3C,IAAI,WAAW,OAAO;YAClB,aAAa,IAAI,GAAG,KAAK,SAAS,CAAC;QACvC;QAEA,MAAM,WAAW,MAAM,MAAM,UAAU;QACvC,MAAM,UAAU,MAAM,SAAS,IAAI;QAEnC,OAAO,gJAAY,CAAC,IAAI,CAAC,SAAS;YAAE,QAAQ,SAAS,MAAM;QAAC;IAChE,EAAE,OAAO,OAAY;QACjB,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS,MAAM,OAAO;QAAC,GAAG;YAAE,QAAQ;QAAI;IACvE;AACJ"}}]
}